<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GeoAI LULC Analysis Dashboard</title>
    <link rel="stylesheet" href="dashboard.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <!-- PAGE 1: YEAR SELECTION -->
    <div id="page1" class="page active">
        <header class="dashboard-header">
            <div class="header-content">
                <div class="logo-section">
                    <i class="fas fa-satellite-dish"></i>
                    <div class="title-group">
                        <h1>GeoAI Land Use Change Analysis</h1>
                        <p>Automated Sentinel-2 LULC Classification & Change Detection</p>
                    </div>
                </div>
                <div class="header-status" id="systemStatus">
                    <i class="fas fa-circle text-green"></i>
                    <span>System Ready</span>
                </div>
            </div>
        </header>

        <main class="selection-main">
            <div class="selection-container">
                <div class="selection-header">
                    <h2><i class="fas fa-calendar-alt"></i> Temporal Analysis Configuration</h2>
                    <p>Select two different time periods for comprehensive land cover change analysis</p>
                </div>

                <!-- Year Selection Card -->
                <div class="selection-card">
                    <div class="year-selection-grid">
                        <div class="year-column">
                            <label for="year1">
                                <i class="fas fa-calendar-day"></i>
                                Time Period 1 (Baseline)
                            </label>
                            <select id="year1" class="year-dropdown">
                                <option value="">Select baseline year...</option>
                            </select>
                            <div class="folder-status" id="folder1Status"></div>
                        </div>

                        <div class="arrow-indicator">
                            <i class="fas fa-arrow-right"></i>
                            <span>Change Analysis</span>
                        </div>

                        <div class="year-column">
                            <label for="year2">
                                <i class="fas fa-calendar-day"></i>
                                Time Period 2 (Comparison)
                            </label>
                            <select id="year2" class="year-dropdown">
                                <option value="">Select comparison year...</option>
                            </select>
                            <div class="folder-status" id="folder2Status"></div>
                        </div>
                    </div>
                </div>

                <!-- Validation Panel -->
                <div id="validationPanel" class="validation-panel hidden">
                    <div class="validation-header">
                        <h3><i class="fas fa-shield-check"></i> Satellite Data Verification</h3>
                        <div id="validationStatus" class="validation-status">Checking required bands...</div>
                    </div>
                    
                    <div class="verification-grid">
                        <div class="period-verification">
                            <h4>Time Period 1 Files:</h4>
                            <div id="period1Files" class="file-list"></div>
                        </div>
                        <div class="period-verification">
                            <h4>Time Period 2 Files:</h4>
                            <div id="period2Files" class="file-list"></div>
                        </div>
                    </div>
                </div>

                <!-- Action Panel -->
                <div class="action-panel">
                    <button id="runAnalysisBtn" class="run-analysis-btn" disabled>
                        <i class="fas fa-play"></i>
                        Run Analysis
                    </button>
                    <div class="action-info">
                        <p><i class="fas fa-info-circle"></i> Analysis will automatically process satellite imagery and generate land use change maps</p>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- PAGE 2: DASHBOARD RESULTS -->
    <div id="page2" class="page">
        <header class="results-header">
            <div class="header-content">
                <div class="results-title">
                    <h1><i class="fas fa-chart-line"></i> Analysis Results</h1>
                    <div id="analysisInfo" class="analysis-info"></div>
                </div>
                <div class="header-actions">
                    <button id="newAnalysisBtn" class="secondary-btn">
                        <i class="fas fa-plus"></i> New Analysis
                    </button>
                    <button id="pixelInspectorBtn" class="inspector-btn" onclick="window.open('pixel_inspector.html', '_blank')">
                        <i class="fas fa-search"></i> Pixel Inspector
                    </button>
                    <button id="analyticalViewBtn" class="inspector-btn" onclick="window.open('pixel_analytical_view.html', '_blank')" style="background: linear-gradient(135deg, #ef4444, #dc2626);">
                        <i class="fas fa-microscope"></i> Layer 3 Analysis
                    </button>
                    <button id="downloadResultsBtn" class="primary-btn">
                        <i class="fas fa-download"></i> Download Results
                    </button>
                </div>
            </div>
        </header>

        <!-- Progress Overlay -->
        <div id="progressOverlay" class="progress-overlay hidden">
            <div class="progress-container">
                <div class="progress-header">
                    <h3><i class="fas fa-cog fa-spin"></i> Processing Analysis</h3>
                    <div id="progressStatus" class="progress-status">Initializing...</div>
                </div>
                <div class="progress-bar-container">
                    <div id="progressBar" class="progress-bar"></div>
                </div>
                <div id="progressStep" class="progress-step">Preparing pipeline execution</div>
            </div>
        </div>

        <main class="results-main">
            <!-- Executive Summary KPIs -->
            <section class="kpi-section">
                <h2><i class="fas fa-tachometer-alt"></i> Executive Summary</h2>
                <div class="kpi-grid" id="kpiGrid"></div>
            </section>

            <!-- Spatial Statistics -->
            <section class="stats-section">
                <h2><i class="fas fa-table"></i> Land Cover Statistics</h2>
                <div class="stats-container" id="statsContainer"></div>
            </section>

            <!-- Change Analytics -->
            <section class="change-section">
                <h2><i class="fas fa-exchange-alt"></i> Change Analytics</h2>
                <div class="change-grid">
                    <div class="change-summary" id="changeSummary"></div>
                    <div class="transition-matrix" id="transitionMatrix"></div>
                </div>
            </section>

            <!-- Map Visualization -->
            <section class="map-section">
                <h2><i class="fas fa-map"></i> Spatial Visualization</h2>
                <div class="map-controls">
                    <div class="map-toggles">
                        <label class="toggle-label">
                            <input type="checkbox" id="toggleLULC1" class="map-toggle">
                            <span class="toggle-slider"></span>
                            LULC Map - Time 1
                        </label>
                        <label class="toggle-label">
                            <input type="checkbox" id="toggleLULC2" class="map-toggle">
                            <span class="toggle-slider"></span>
                            LULC Map - Time 2
                        </label>
                        <label class="toggle-label">
                            <input type="checkbox" id="toggleChange" class="map-toggle">
                            <span class="toggle-slider"></span>
                            Change Map
                        </label>
                        <label class="toggle-label">
                            <input type="checkbox" id="toggleConfidence" class="map-toggle">
                            <span class="toggle-slider"></span>
                            Confidence Map
                        </label>
                    </div>
                </div>
                <div class="map-placeholder" id="mapContainer">
                    <i class="fas fa-map-marked-alt"></i>
                    <p>Select map layers above to visualize results</p>
                </div>
            </section>

            <!-- Policy Insights -->
            <section class="insights-section">
                <h2><i class="fas fa-lightbulb"></i> Policy Insights</h2>
                <div class="insights-container" id="insightsContainer"></div>
            </section>
        </main>
    </div>

    <script src="dashboard.js"></script>
</body>
</html>